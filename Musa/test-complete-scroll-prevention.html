<!DOCTYPE html>
<html>
<head>
    <title>Verificar Scroll Prevention</title>
    <style>
        body { 
            height: 3000px; 
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        .test-section {
            margin: 50px 0;
            padding: 20px;
            background: #f0f0f0;
            border: 2px solid #ddd;
        }
        #target-section {
            margin-top: 2000px;
            background: #ffcccc;
            padding: 30px;
            border: 3px solid #ff0000;
        }
        button {
            padding: 10px 20px;
            margin: 10px;
            font-size: 16px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="test-section">
        <h1>üß™ Test de Prevenci√≥n de Scroll</h1>
        <p>Esta p√°gina es muy larga para probar si el scroll autom√°tico est√° bloqueado.</p>
        
        <h2>Tests de Scroll:</h2>
        <button onclick="testScrollIntoView()">Test scrollIntoView()</button>
        <button onclick="testWindowScrollTo()">Test window.scrollTo()</button>
        <button onclick="testWindowScroll()">Test window.scroll()</button>
        <button onclick="testFocus()">Test focus() con scroll</button>
        
        <h2>Logs de consola:</h2>
        <div id="logs" style="background: black; color: green; padding: 10px; height: 200px; overflow-y: auto;"></div>
    </div>
    
    <div id="target-section">
        <h2>üéØ SECCI√ìN OBJETIVO</h2>
        <p>Si ves esta secci√≥n despu√©s de hacer click en los botones de arriba, significa que el scroll autom√°tico NO est√° bloqueado.</p>
        <input type="text" id="test-input" placeholder="Input para test de focus">
    </div>
    
    <script>
        // Implementar la misma prevenci√≥n que en index.html
        console.log('üõ°Ô∏è Implementando prevenci√≥n global de scroll autom√°tico...');
        
        // BLOQUEAR SCROLLINTOVIEW GLOBALMENTE Y PERMANENTEMENTE
        Element.prototype.scrollIntoView = function(options) {
            console.log('üö´ SCROLL AUTOM√ÅTICO BLOQUEADO - Elemento:', this.tagName + (this.id ? '#' + this.id : '') + (this.className ? '.' + this.className.split(' ')[0] : ''));
            console.log('üö´ Opciones de scroll ignoradas:', options);
            addLog('üö´ scrollIntoView() BLOQUEADO para: ' + this.tagName + (this.id ? '#' + this.id : ''));
            return false;
        };
        
        // BLOQUEAR OTROS M√âTODOS DE SCROLL
        const originalScrollTo = window.scrollTo;
        window.scrollTo = function(x, y) {
            console.log('üö´ window.scrollTo() bloqueado');
            addLog('üö´ window.scrollTo() BLOQUEADO');
            return false;
        };
        
        const originalScroll = window.scroll;
        window.scroll = function(x, y) {
            console.log('üö´ window.scroll() bloqueado');
            addLog('üö´ window.scroll() BLOQUEADO');
            return false;
        };
        
        // BLOQUEAR FOCUS QUE PUEDA CAUSAR SCROLL
        const originalFocus = HTMLElement.prototype.focus;
        HTMLElement.prototype.focus = function(options) {
            console.log('üö´ focus() con scroll prevenido para:', this.tagName + (this.id ? '#' + this.id : ''));
            addLog('üö´ focus() con preventScroll para: ' + this.tagName + (this.id ? '#' + this.id : ''));
            // Solo hacer focus sin scroll
            originalFocus.call(this, { preventScroll: true });
        };
        
        function addLog(message) {
            const logsDiv = document.getElementById('logs');
            const time = new Date().toLocaleTimeString();
            logsDiv.innerHTML += `[${time}] ${message}<br>`;
            logsDiv.scrollTop = logsDiv.scrollHeight;
        }
        
        function testScrollIntoView() {
            addLog('‚ñ∂Ô∏è Testing scrollIntoView()...');
            document.getElementById('target-section').scrollIntoView();
        }
        
        function testWindowScrollTo() {
            addLog('‚ñ∂Ô∏è Testing window.scrollTo()...');
            window.scrollTo(0, 2000);
        }
        
        function testWindowScroll() {
            addLog('‚ñ∂Ô∏è Testing window.scroll()...');
            window.scroll(0, 2000);
        }
        
        function testFocus() {
            addLog('‚ñ∂Ô∏è Testing focus()...');
            document.getElementById('test-input').focus();
        }
        
        // Test autom√°tico al cargar
        window.addEventListener('load', function() {
            addLog('‚úÖ P√°gina cargada - Prevenci√≥n de scroll activa');
            
            // Auto test despu√©s de 2 segundos
            setTimeout(() => {
                addLog('ü§ñ Ejecutando test autom√°tico...');
                document.getElementById('target-section').scrollIntoView();
            }, 2000);
        });
    </script>
</body>
</html>