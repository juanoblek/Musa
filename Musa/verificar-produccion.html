<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üöÄ Verificaci√≥n Modo Producci√≥n</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #f8f9fa; }
        .container { max-width: 600px; margin: 0 auto; background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .status { padding: 15px; border-radius: 5px; margin: 10px 0; }
        .success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .warning { background: #fff3cd; color: #856404; border: 1px solid #ffeaa7; }
        .info { background: #d1ecf1; color: #0c5460; border: 1px solid #b6e4ea; }
        .code { background: #f8f9fa; padding: 10px; border-radius: 4px; font-family: monospace; margin: 5px 0; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üöÄ Verificaci√≥n: Modo Producci√≥n MercadoPago</h1>
        
        <div id="status"></div>
        
        <h3>üîç Pruebas de Configuraci√≥n:</h3>
        <div id="tests"></div>
        
        <h3>üìã Detalles de Configuraci√≥n:</h3>
        <div id="config"></div>
    </div>

    <script>
        async function verificarProduccion() {
            const statusDiv = document.getElementById('status');
            const testsDiv = document.getElementById('tests');
            const configDiv = document.getElementById('config');
            
            try {
                // Verificar configuraci√≥n directa (como en pago-premium.html)
                const configDirecta = {
                    environment: 'production',
                    public_key: 'APP_USR-5afce1ba-5244-42d4-939e-f9979851577'
                };
                
                statusDiv.innerHTML = '<div class="success">‚úÖ <strong>MODO PRODUCCI√ìN ACTIVADO</strong></div>';
                
                // Verificar configuraci√≥n del servidor
                try {
                    const response = await fetch('/Musa/Musa/config/mercadopago-simple.php');
                    const serverConfig = await response.json();
                    
                    testsDiv.innerHTML = `
                        <div class="info">
                            <strong>üåê Configuraci√≥n del Servidor:</strong><br>
                            Entorno: <code>${serverConfig.environment}</code><br>
                            Public Key: <code>${serverConfig.public_key.substring(0, 20)}...</code>
                        </div>
                    `;
                } catch (e) {
                    testsDiv.innerHTML = '<div class="warning">‚ö†Ô∏è No se pudo verificar configuraci√≥n del servidor</div>';
                }
                
                // Mostrar configuraci√≥n actual
                configDiv.innerHTML = `
                    <div class="code">
                        <strong>üîë Credenciales de Producci√≥n:</strong><br>
                        Environment: ${configDirecta.environment}<br>
                        Public Key: ${configDirecta.public_key}<br>
                        Estado: <span style="color: green;">‚úÖ ACTIVO PARA PAGOS REALES</span>
                    </div>
                    
                    <div class="success">
                        <strong>üéØ ¬øQu√© significa esto?</strong><br>
                        ‚Ä¢ Los pagos ahora son REALES con dinero real<br>
                        ‚Ä¢ Se procesa con tarjetas de cr√©dito/d√©bito reales<br>
                        ‚Ä¢ Los clientes ser√°n cobrados efectivamente<br>
                        ‚Ä¢ Los fondos llegar√°n a tu cuenta de MercadoPago
                    </div>
                    
                    <div class="warning">
                        <strong>‚ö†Ô∏è IMPORTANTE:</strong><br>
                        ‚Ä¢ Aseg√∫rate de probar con montos peque√±os primero<br>
                        ‚Ä¢ Verifica que todos los datos est√©n correctos<br>
                        ‚Ä¢ Los pagos son irreversibles una vez procesados
                    </div>
                `;
                
            } catch (error) {
                statusDiv.innerHTML = '<div class="warning">‚ö†Ô∏è Error al verificar configuraci√≥n</div>';
            }
        }
        
        // Ejecutar verificaci√≥n al cargar la p√°gina
        document.addEventListener('DOMContentLoaded', verificarProduccion);
    </script>
</body>
</html>