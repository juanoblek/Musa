<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üî• SISTEMA COMPLETO: MercadoPago Real + Base de Datos</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .hero-section {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            margin: 30px 0;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        
        .feature-card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
        }
        
        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .status-success { background: #4CAF50; }
        .status-warning { background: #FF9800; }
        .status-info { background: #2196F3; }
        
        .code-block {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 14px;
        }
        
        .demo-button {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 16px;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px;
            text-decoration: none;
            display: inline-block;
        }
        
        .demo-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.3);
            color: white;
        }
        
        .demo-button.secondary {
            background: linear-gradient(135deg, #2196F3, #1976D2);
        }
        
        .demo-button.secondary:hover {
            box-shadow: 0 6px 20px rgba(33, 150, 243, 0.3);
        }
        
        .integration-step {
            background: #e8f5e8;
            border-left: 4px solid #4CAF50;
            padding: 20px;
            margin: 15px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .warning-box {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .success-box {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Hero Section -->
        <div class="hero-section text-center text-white">
            <h1 class="display-4 mb-4">üî• Sistema Completo MUSA Fashion</h1>
            <h2 class="h3 mb-4">MercadoPago Real + Base de Datos Autom√°tica</h2>
            <p class="lead">Solo los pagos EXITOSOS se guardan en la base de datos</p>
        </div>
        
        <!-- Estado del Sistema -->
        <div class="row">
            <div class="col-md-4">
                <div class="feature-card text-center">
                    <i class="fas fa-database fa-3x text-success mb-3"></i>
                    <h5>Base de Datos</h5>
                    <p><span class="status-indicator status-success"></span>Conectada y Lista</p>
                    <small class="text-muted">Tablas: pedidos, envios, vista_pedidos_completos</small>
                </div>
            </div>
            <div class="col-md-4">
                <div class="feature-card text-center">
                    <i class="fas fa-credit-card fa-3x text-primary mb-3"></i>
                    <h5>MercadoPago</h5>
                    <p><span class="status-indicator status-info"></span>Modo TEST Activo</p>
                    <small class="text-muted">Credenciales configuradas</small>
                </div>
            </div>
            <div class="col-md-4">
                <div class="feature-card text-center">
                    <i class="fas fa-sync-alt fa-3x text-warning mb-3"></i>
                    <h5>Webhook</h5>
                    <p><span class="status-indicator status-warning"></span>Configurado</p>
                    <small class="text-muted">Notificaciones autom√°ticas</small>
                </div>
            </div>
        </div>
        
        <!-- Caracter√≠sticas Principales -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="feature-card">
                    <h3 class="text-center mb-4">üéØ Caracter√≠sticas del Sistema</h3>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <div class="success-box">
                                <h5>‚úÖ Lo que S√ç hace:</h5>
                                <ul>
                                    <li><strong>Pago Real:</strong> Integraci√≥n directa con MercadoPago</li>
                                    <li><strong>Validaci√≥n:</strong> Solo pagos APROBADOS se guardan</li>
                                    <li><strong>Base de Datos:</strong> Pedidos y env√≠os autom√°ticos</li>
                                    <li><strong>Panel Admin:</strong> Aparece inmediatamente</li>
                                    <li><strong>Webhook:</strong> Procesamiento autom√°tico</li>
                                    <li><strong>Estados:</strong> Manejo de rechazados, pendientes</li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="warning-box">
                                <h5>‚ö†Ô∏è Importante:</h5>
                                <ul>
                                    <li><strong>Modo TEST:</strong> No se cobra dinero real</li>
                                    <li><strong>Credenciales:</strong> Cambiar a producci√≥n cuando est√© listo</li>
                                    <li><strong>Webhook URL:</strong> Debe ser p√∫blica para producci√≥n</li>
                                    <li><strong>Seguridad:</strong> Validar datos del servidor</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Demos Disponibles -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="feature-card">
                    <h3 class="text-center mb-4">üß™ Demos y Pruebas</h3>
                    
                    <div class="text-center">
                        <a href="test-pago-real.html" class="demo-button">
                            <i class="fas fa-flask"></i> Test Pago Real
                        </a>
                        
                        <a href="pago-premium.html" class="demo-button secondary">
                            <i class="fas fa-store"></i> Formulario Real
                        </a>
                        
                        <a href="admin-panel.html" class="demo-button" style="background: linear-gradient(135deg, #9C27B0, #673AB7);">
                            <i class="fas fa-chart-line"></i> Panel Admin
                        </a>
                        
                        <a href="test-integration.html" class="demo-button" style="background: linear-gradient(135deg, #FF5722, #E91E63);">
                            <i class="fas fa-tools"></i> Herramientas
                        </a>
                    </div>
                    
                    <div class="row mt-4">
                        <div class="col-md-6">
                            <h5>üî¨ Test T√©cnico (Tarjeta de Prueba)</h5>
                            <div class="code-block">
                                <strong>Tarjeta:</strong> 4509 9535 6623 3704<br>
                                <strong>Vencimiento:</strong> 11/25<br>
                                <strong>CVV:</strong> 123<br>
                                <strong>Titular:</strong> APRO<br>
                                <strong>Documento:</strong> 12345678
                            </div>
                            <p><small class="text-muted">Esta tarjeta simula un pago APROBADO</small></p>
                        </div>
                        <div class="col-md-6">
                            <h5>üí≥ Otras Tarjetas de Prueba</h5>
                            <div class="code-block">
                                <strong>Rechazada:</strong> 4000 0000 0000 0002<br>
                                <strong>Pendiente:</strong> 4000 0000 0000 0069<br>
                                <strong>Error:</strong> 4000 0000 0000 0119
                            </div>
                            <p><small class="text-muted">Para probar diferentes estados</small></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Flujo de Integraci√≥n -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="feature-card">
                    <h3 class="text-center mb-4">üîÑ Flujo del Sistema</h3>
                    
                    <div class="integration-step">
                        <h5>1. üõí Usuario llena formulario</h5>
                        <p>Datos del cliente, productos, direcci√≥n de env√≠o</p>
                    </div>
                    
                    <div class="integration-step">
                        <h5>2. üí≥ Procesa pago con MercadoPago</h5>
                        <p>Tokenizaci√≥n segura, validaci√≥n de tarjeta</p>
                    </div>
                    
                    <div class="integration-step">
                        <h5>3. ‚úÖ Valida estado del pago</h5>
                        <p><strong>Solo si es APROBADO</strong> contin√∫a al siguiente paso</p>
                    </div>
                    
                    <div class="integration-step">
                        <h5>4. üíæ Guarda en base de datos</h5>
                        <p>Inserta en tablas: <code>pedidos</code> y <code>envios</code></p>
                    </div>
                    
                    <div class="integration-step">
                        <h5>5. üìä Aparece en panel admin</h5>
                        <p>Disponible inmediatamente para gesti√≥n</p>
                    </div>
                    
                    <div class="integration-step">
                        <h5>6. üîî Webhook confirma (opcional)</h5>
                        <p>MercadoPago env√≠a notificaci√≥n autom√°tica</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Archivos del Sistema -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="feature-card">
                    <h3 class="text-center mb-4">üìÅ Archivos del Sistema</h3>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <h5>üîß Backend (PHP)</h5>
                            <ul class="list-unstyled">
                                <li><i class="fas fa-file-code text-primary"></i> <code>api/pago-real-mercadopago.php</code></li>
                                <li><i class="fas fa-file-code text-primary"></i> <code>api/crear-preferencia.php</code></li>
                                <li><i class="fas fa-file-code text-primary"></i> <code>api/webhook-mercadopago.php</code></li>
                                <li><i class="fas fa-database text-success"></i> <code>config/database.php</code></li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h5>üé® Frontend (JS/HTML)</h5>
                            <ul class="list-unstyled">
                                <li><i class="fas fa-file-code text-warning"></i> <code>js/pago-real-mercadopago.js</code></li>
                                <li><i class="fas fa-file-code text-warning"></i> <code>js/premium-payment-real.js</code></li>
                                <li><i class="fas fa-file-alt text-info"></i> <code>pago-premium.html</code></li>
                                <li><i class="fas fa-file-alt text-info"></i> <code>test-pago-real.html</code></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Pasos para Producci√≥n -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="feature-card">
                    <h3 class="text-center mb-4">üöÄ Para Pasar a Producci√≥n</h3>
                    
                    <div class="warning-box">
                        <h5>üìù Checklist de Producci√≥n:</h5>
                        <ol>
                            <li><strong>Credenciales:</strong> Cambiar TEST por APP_USR en todos los archivos PHP</li>
                            <li><strong>Public Key:</strong> Actualizar en JavaScript</li>
                            <li><strong>Webhook URL:</strong> Configurar URL p√∫blica en MercadoPago</li>
                            <li><strong>SSL:</strong> Asegurar que el sitio tenga HTTPS</li>
                            <li><strong>Validaciones:</strong> Verificar firma del webhook</li>
                            <li><strong>Logs:</strong> Configurar monitoreo de errores</li>
                            <li><strong>Backup:</strong> Estrategia de respaldo de BD</li>
                        </ol>
                    </div>
                    
                    <div class="code-block">
                        <strong>Ubicaciones a cambiar:</strong><br>
                        ‚Ä¢ <code>api/pago-real-mercadopago.php</code> l√≠nea 20-21<br>
                        ‚Ä¢ <code>api/crear-preferencia.php</code> l√≠nea 18<br>
                        ‚Ä¢ <code>api/webhook-mercadopago.php</code> l√≠nea 44<br>
                        ‚Ä¢ <code>js/pago-real-mercadopago.js</code> l√≠nea 178<br>
                        ‚Ä¢ <code>js/premium-payment-real.js</code> l√≠nea 76
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Footer -->
        <div class="text-center text-white mt-4 mb-3">
            <p class="mb-1">üî• Sistema desarrollado para MUSA Fashion</p>
            <p class="small">‚úÖ Pagos reales + üíæ Base de datos autom√°tica + üìä Panel administrativo</p>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Verificar estado de los servicios
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üî• Sistema MUSA Fashion cargado');
            console.log('üìã Archivos disponibles para testing');
            console.log('üí° Usa las tarjetas de prueba para simular diferentes estados');
            
            // Opcional: verificar conectividad con la BD
            fetch('/Musa/api/test-connection.php')
                .then(response => response.json())
                .then(data => {
                    if (data.database_connected) {
                        console.log('‚úÖ Base de datos conectada correctamente');
                    } else {
                        console.log('‚ö†Ô∏è Problema con la base de datos');
                    }
                })
                .catch(error => {
                    console.log('‚ö†Ô∏è No se pudo verificar la base de datos');
                });
        });
    </script>
</body>
</html>