<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prueba - Upload de Videos</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-section { margin: 20px 0; padding: 20px; border: 1px solid #ddd; }
        .preview { margin: 10px 0; }
        .preview img, .preview video { max-width: 200px; max-height: 200px; border: 2px solid #ddd; }
        .success { color: green; }
        .error { color: red; }
    </style>
</head>
<body>
    <h1>Prueba de Upload de Videos en Admin Panel</h1>
    
    <div class="test-section">
        <h2>‚úÖ Modificaciones Completadas</h2>
        <ul>
            <li>‚úÖ Input principal modificado para aceptar <code>image/*,video/*</code></li>
            <li>‚úÖ Funci√≥n <code>previewMainMedia()</code> agregada</li>
            <li>‚úÖ Template de preview actualizado con soporte para video</li>
            <li>‚úÖ Indicadores de tipo de archivo</li>
            <li>‚úÖ Eliminada restricci√≥n de 5MB</li>
            <li>‚úÖ API de upload ya preparada para videos sin l√≠mite</li>
        </ul>
    </div>

    <div class="test-section">
        <h2>üîß Para usar la nueva funcionalidad:</h2>
        <ol>
            <li><strong>Verificar configuraci√≥n PHP:</strong>
                <br>Ve a: <a href="check-php-config.php" target="_blank">check-php-config.php</a>
            </li>
            <li><strong>Ajustar php.ini si es necesario:</strong>
                <br>Archivo: <code>C:\xampp\php\php.ini</code>
                <br>Configurar: <code>upload_max_filesize = 0</code> y <code>post_max_size = 0</code>
            </li>
            <li><strong>Reiniciar Apache en XAMPP</strong></li>
            <li><strong>Ir al panel administrativo:</strong>
                <br><a href="admin-panel.php" target="_blank">admin-panel.php</a>
            </li>
            <li><strong>Probar subir un video como imagen principal</strong></li>
        </ol>
    </div>

    <div class="test-section">
        <h2>üìù Formatos soportados ahora:</h2>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
            <div>
                <h3>Im√°genes:</h3>
                <ul>
                    <li>JPG/JPEG</li>
                    <li>PNG</li>
                    <li>GIF</li>
                    <li>WebP</li>
                </ul>
            </div>
            <div>
                <h3>Videos:</h3>
                <ul>
                    <li>MP4</li>
                    <li>MOV</li>
                    <li>AVI</li>
                    <li>WebM</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="test-section">
        <h2>üéØ C√≥digo modificado en admin-panel.php:</h2>
        <h3>Antes:</h3>
        <pre style="background: #f5f5f5; padding: 10px; border-left: 3px solid #red;">
&lt;input type="file" class="form-control image-input" id="productMainImage" 
       accept="image/*" onchange="previewImage(this, 'mainImagePreview')"&gt;
&lt;div class="form-text"&gt;Formatos permitidos: JPG, PNG, GIF, WebP (m√°ximo 5MB)&lt;/div&gt;</pre>
        
        <h3>Despu√©s:</h3>
        <pre style="background: #f5f5f5; padding: 10px; border-left: 3px solid #green;">
&lt;input type="file" class="form-control media-input" id="productMainImage" 
       accept="image/*,video/*" onchange="previewMainMedia(this, 'mainImagePreview')"&gt;
&lt;div class="form-text"&gt;Formatos permitidos: JPG, PNG, GIF, WebP, MP4, MOV, AVI (sin l√≠mite de tama√±o)&lt;/div&gt;</pre>
    </div>

    <div class="test-section">
        <h2>‚ö†Ô∏è Importante</h2>
        <p>Los cambios est√°n completos en el c√≥digo. Solo necesitas verificar/ajustar la configuraci√≥n de PHP para permitir archivos grandes si quieres subir videos de gran tama√±o.</p>
        
        <p><strong>Todo est√° listo para usar!</strong></p>
    </div>

    <script>
        // Verificar si el archivo de configuraci√≥n fue modificado correctamente
        fetch('admin-panel.php')
            .then(response => response.text())
            .then(html => {
                const hasVideoSupport = html.includes('accept="image/*,video/*"');
                const hasNewFunction = html.includes('previewMainMedia');
                const hasUnlimitedSize = html.includes('sin l√≠mite de tama√±o');
                
                if (hasVideoSupport && hasNewFunction && hasUnlimitedSize) {
                    document.body.insertAdjacentHTML('beforeend', 
                        '<div style="position: fixed; top: 10px; right: 10px; background: green; color: white; padding: 10px; border-radius: 5px;">‚úÖ Modificaciones detectadas correctamente</div>'
                    );
                } else {
                    document.body.insertAdjacentHTML('beforeend', 
                        '<div style="position: fixed; top: 10px; right: 10px; background: red; color: white; padding: 10px; border-radius: 5px;">‚ùå Error: Modificaciones no detectadas</div>'
                    );
                }
            });
    </script>
</body>
</html>